<!doctype html>
<html lang="ru">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <meta charset="utf-8" /><title>Эмми & Толя — свадебное приглашение</title>
    <meta name="description" content="Одностраничное свадебное приглашение: история, место и время, дресс-код." />
    <meta name="theme-color" content="#B08C7A">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #FAF7F3; /* фон страницы */
            --paper: #FFFFFF; /* фон карточек */
            --ink: #2B2B2B; /* основной текст */
            --muted: #6B6B6B; /* вторичный текст */
            --accent: #B08C7A; /* акцент (теплый беж) */
            --accent-2: #8FA7C9; /* акцент (приглушённый синий) */
            --shadow: 0 10px 30px rgba(0,0,0,.08);
            --radius: 20px;
            --btn-ink: #fff;
            --btn-bg: #B08C7A;
            --btn-bg-hover: #9E7A69;
            --btn-outline-ink: var(--accent);
            --btn-outline-bg: transparent;
            --btn-outline-bg-hover: #00000008;
            --focus: 0 0 0 3px rgba(176,140,122,.35);
        }

        *, *::before, *::after {
            box-sizing: border-box
        }

        html, body {
            height: 100%
        
  overscroll-behavior-y: none;
}

        html { scroll-behavior: auto; -webkit-text-size-adjust:100%; }

        body {
            margin: 0;
            background: var(--bg);
            color: var(--ink);
            font-family: 'Montserrat', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
            line-height: 1.55;
            -webkit-font-smoothing: antialiased;
            text-rendering: optimizeLegibility;
        }

        h1, h2, h3 {
            font-family: 'Playfair Display', Georgia, 'Times New Roman', serif;
            line-height: 1.15;
            margin: 0 0 .6em;
            color: var(--ink)
        }

        h1 {
            font-size: clamp(38px, 6vw, 76px);
            font-weight: 700
        }

        h2 {
            font-size: clamp(26px, 4vw, 42px);
            font-weight: 600
        }

        h3 {
            font-size: clamp(20px, 3vw, 28px);
            font-weight: 600
        }

        p {
            margin: .6em 0
        }

        a {
            color: inherit
        }

        .wrap {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 20px
        }

        /* Кнопки */
        .btn {
            --_bg: var(--btn-bg);
            --_ink: var(--btn-ink);
            display: inline-flex;
            align-items: center;
            gap: 10px;
            border: 0;
            background: var(--_bg);
            color: var(--_ink);
            padding: 12px 18px;
            border-radius: 999px;
            font-weight: 600;
            font-size: 15px;
            text-decoration: none;
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: transform .12s ease, background .2s ease, box-shadow .2s ease;
            will-change: transform;
        
  touch-action: manipulation;
}

            .btn:hover {
                transform: translateY(-1px);
            }

            .btn:active {
                transform: translateY(0);
            }

            .btn:focus-visible {
                outline: none;
                box-shadow: var(--focus);
            }

            .btn svg {
                width: 20px;
                height: 20px;
                flex: 0 0 20px
            }

        .btn-primary {
            --_bg: var(--btn-bg);
            --_ink: #fff;
        }

            .btn-primary:hover {
                background: var(--btn-bg-hover);
            }

        .btn-outline {
            --_bg: var(--btn-outline-bg);
            --_ink: var(--btn-outline-ink);
            border: 1.5px solid var(--accent);
            box-shadow: none;
            background: var(--btn-outline-bg);
        }

            .btn-outline:hover {
                background: var(--btn-outline-bg-hover);
            }

        .btn-ghost {
            --_bg: transparent;
            --_ink: #fff;
            border: 1.5px solid rgba(255,255,255,.55);
            background: transparent;
            color: #fff;
            box-shadow: none;
        }

            .btn-ghost:hover {
                background: rgba(255,255,255,.08);
            }

        .actions {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 16px;
        }

        /* Секция 1: кроссфейд фото */
        .crossfade {
            height: 240vh;
            position: relative;
            padding: 0;
            background: #000
        }

            .crossfade .sticky {
                position: sticky;
                top: 0;
                height: 100vh;
                height: 100dvh;
                height: 100svh;
                overflow: hidden
            }

        .photo-frame {
            position: relative;
            width: 100%;
            height: 100%;
            background: #000;
            border-radius: 0;
        }

        .photo {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
            transition: opacity .5s ease, transform .5s ease;
        }

            .photo.child {
                z-index: 1;
            }

            .photo.adult {
                z-index: 2;
                opacity: 0
            }

        .photo-overlay {
            position: absolute;
            inset: auto 20px 20px auto;
            z-index: 3;
            background: rgba(255,255,255,.75);
            color: var(--ink);
            padding: 8px 12px;
            border-radius: 999px;
            font-size: 12px;
            letter-spacing: .06em;
            text-transform: uppercase;
            box-shadow: var(--shadow)
        }

        .intro-title {
            position: absolute;
            inset: auto 0 7vh 0;
            z-index: 3;
            text-align: center;
            color: #fff;
            text-shadow: 0 6px 30px rgba(0,0,0,.45);
            padding: 0 16px;
        }

            .intro-title .names {
                font-family: 'Playfair Display', serif;
                font-weight: 700;
                letter-spacing: .02em;
                font-size: clamp(42px,7vw,96px)
            }

            .intro-title .date {
                font-size: clamp(16px,2.2vw,22px);
                opacity: .95
            }

        .gradient-top, .gradient-bottom {
            position: absolute;
            left: 0;
            right: 0;
            height: 25vh;
            z-index: 2;
            pointer-events: none
        }

        .gradient-top {
            top: 0;
            background: linear-gradient(#0006, transparent)
        }

        .gradient-bottom {
            bottom: 0;
            background: linear-gradient(transparent, #0007)
        }

        /* Секция 2: аннотация */
        section {
            padding: 80px 0
        }

        /* Единый промежуток между секциями */
        :root {
            --section-gap: clamp(22px, 6vw, 30px);
        }

        /* Промежутки между секциями */
        body {
            display: grid;
            grid-auto-rows: max-content;
            row-gap: var(--section-gap);
        }

            /* На всякий случай обнулим внешние отступы у секций */
            body > section {
                margin: 0;
            }

        section + section {
            margin-top: var(--section-gap);
        }

        /* спецслучай: кроссфейд перекрывает низ, поэтому добавим «прокладку» */
        .crossfade::after {
            content: "";
            display: block;
            height: var(--section-gap);
            background: var(--bg); /* фон страницы */
        }

        .card {
            background: var(--paper);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: clamp(22px,3.2vw,44px)
        }

        .lead {
            font-size: clamp(18px, 2.1vw, 22px);
            color: var(--muted)
        }

        .grid {
            display: grid;
            gap: 24px
        }

        @media(min-width:860px) {
            .grid.cols-2 {
                grid-template-columns: 1.2fr .8fr
            }
        }

        @supports (content-visibility:auto) {
            .card, .detail {
                content-visibility: auto;
                contain-intrinsic-size: 600px 400px;
            }
        }


        /* Мобильные твики обложки */
        @media (max-width:600px) {
  .crossfade { height: 180vh; }

            .card, .detail {
                box-shadow: 0 8px 22px rgba(0,0,0,.06);
            }
        }

        .photo {
            will-change: opacity, transform;
        }
        /* более плавный GPU-скролл */


        .quote {
            font-family: 'Playfair Display', serif;
            font-size: clamp(22px,2.6vw,30px);
            color: var(--accent);
            margin: 0 0 16px
        }

        /* Секция 3: основное содержание */
        .details-grid {
            display: grid;
            gap: 18px
        }

        @media(min-width:820px) {
            .details-grid {
                grid-template-columns: repeat(3,1fr)
            }
        }

        .detail {
            background: var(--paper);
            border-radius: 16px;
            padding: 22px;
            box-shadow: var(--shadow)
        }

        .kicker {
            color: var(--accent);
            font-size: 12px;
            letter-spacing: .12em;
            text-transform: uppercase;
            margin-bottom: 8px
        }

        .big {
            font-size: clamp(18px,2.5vw,24px)
        }

        .timeline {
            display: grid;
            gap: 14px;
            margin-top: 10px
        }

        .slot {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 12px;
            align-items: start
        }

        .time {
            font-variant-numeric: tabular-nums;
            font-weight: 600;
            color: var(--accent-2)
        }

        /* Countdown */
        .countdown {
            --pill: 10px;
            display: grid;
            grid-auto-flow: column;
            gap: 10px;
            width: fit-content;
            margin-top: 12px;
            font-variant-numeric: tabular-nums;
        }

        .cd-item {
            background: #F2EFEA;
            border-radius: 12px;
            padding: 8px 10px;
            text-align: center;
            box-shadow: inset 0 0 0 1px #E9E4DE;
            min-width: 70px;
            width: var(--w, 60px);
        }
            .cd-item.days { /* запас под 3-значные дни */
                --w: 70px;
            }

            .cd-item .num {
                font-weight: 700;
                font-size: 20px; /* ← точка с запятой */
                font-variant-numeric: tabular-nums;
                font-feature-settings: "tnum" 1;
                font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New",monospace;
                text-align: center;
            }

            .cd-item .lbl {
                display: block;
                font-size: 12px;
                color: var(--muted);
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis; /* на всякий */
                margin-top: 2px
            }

        #cd-days {
            inline-size: 3ch;
        }

        #cd-hours, #cd-mins, #cd-secs {
            inline-size: 2ch;
        }

        /* Кнопки не ниже 44px по гайдлайнам iOS/Android */
        .btn {
            min-height: 44px;
        }

        /* Длинные адреса не «ломают» строку на узких экранах */
        #venueAddress {
            overflow-wrap: anywhere;
            word-break: break-word;
        }

        /* Палитра дресс-кода */
        .detail.dresscode .palette {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(86px,1fr));
            gap: 16px 12px;
            margin-top: 10px;
        }

            .detail.dresscode .palette > div {
                display: grid;
                justify-items: center;
            }

        .detail.dresscode .swatch {
            --c: #d9c8b4;
            width: 64px;
            height: 64px;
            border-radius: 14px;
            background: var(--c);
            box-shadow: inset 0 0 0 1px rgba(0,0,0,.06); /* без «пухлых» теней */
        }

        .detail.dresscode .swatch-label {
            font-size: 12px;
            color: var(--muted);
            text-align: center;
            line-height: 1.15;
            max-width: 80px; /* чтобы длинные названия красиво переносились */
        }

        /* Плавное появление блоков при скролле */
        .reveal {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity .6s ease, transform .6s ease
        }

            .reveal.in {
                opacity: 1;
                transform: none
            }

        /* Футер */
        footer {
            padding: 50px 0 90px;
            color: var(--muted);
            text-align: center
        }

        @media (prefers-reduced-motion: reduce) {
            .photo {
                transition: none
            }

            .crossfade {
                height: 120vh
            }

            .photo.adult {
                opacity: 1
            }

            .reveal {
                opacity: 1;
                transform: none
            }
        }

        /* Печать */
        @media print {
            .crossfade {
                height: auto
            }

                .crossfade .sticky {
                    position: relative;
                    height: auto
                }

            .gradient-top, .gradient-bottom, .photo-overlay, .actions {
                display: none
            }

            section {
                padding: 24px 0
            }

            .card, .detail {
                box-shadow: none;
                border: 1px solid #EAE7E2
            }

            section + section {
                margin-top: 16px;
            }
        }
    </style>

<style id="mobile-crossfade-overrides">
/* Crossfade: robust iOS-friendly version */
.crossfade{ position:relative; height:220svh; background:#000; }
.crossfade .sticky{ position:sticky; top:0; height:100svh; overflow:hidden; }
.crossfade .photo{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; will-change:opacity,transform; transform:translateZ(0); }
.crossfade .photo.child{ z-index:1; }
.crossfade .photo.adult{ z-index:2; opacity:0; }
@media (max-width:600px){ .crossfade{ height:180svh; } }
</style>

</head>
<body>
    <!-- СЕКЦИЯ 1. Кроссфейд: детское → взрослое фото -->
    <!-- TODO: замените src на свои файлы (child.jpg и adult.jpg). Рекомендуемое соотношение 3:2 или 16:9, минимум ~1800px по ширине. -->
    <section class="crossfade" aria-label="Обложка-приглашение">
        <div class="sticky">
            <div class="photo-frame">
                <img class="photo child" src="assets/child.jpg" alt="Эмми и Толя — детское фото"
                     fetchpriority="high" decoding="async" />
                <img class="photo adult" src="assets/adult.jpg" alt="Эмми и Толя — современное фото" decoding="async" />
                <div class="gradient-top"></div>
                <div class="gradient-bottom"></div>
                <div class="intro-title wrap">
                    <div class="names">Эмми & Толя</div>
                    <!-- TODO: замените дату -->
                    <div class="date">Вторник, 27 июля 2027</div>
                    <!-- Кнопка: Добавить в календарь -->
                    <div class="actions" role="group" aria-label="Быстрые действия">
                        <a href="#" class="btn btn-primary" id="addToCalendarBtn">
                            <!-- иконка календарь -->
                            <svg aria-hidden="true" viewBox="0 0 24 24" fill="none">
                                <path d="M7 3v4M17 3v4M3 11h18M5 21h14a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                            </svg>
                            Добавить в календарь
                        </a>
                        <a href="#details" class="btn btn-ghost">
                            <svg aria-hidden="true" viewBox="0 0 24 24" fill="none">
                                <path d="M12 5v14m0 0l-6-6m6 6 6-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                            </svg>
                            К подробностям
                        </a>
                    </div>
                </div>
                <div class="photo-overlay">Листайте вниз</div>
            </div>
        </div>
    </section>

    <!-- СЕКЦИЯ 2. Аннотация о молодожёнах -->
    <section class="wrap" id="about">
        <div class="card grid cols-2 reveal">
            <div>
                <h2>Немного о нас</h2>
                <p class="lead">Мы встретились в детском лагере. Он, она, боже... Сами всё видите, раз приглашение вам пришло. Без слов, только горька!</p>
                <p>Любим не досматривать фильмы под жёсткий секс. А дальше вам знать не надо. И ещё раз точка. Ладно, не точка. Эмми и Толя aka кофе со сливками</p>
            </div>
            <div>
                <p class="quote">«Главное — быть рядом и вовремя делиться последним кусочком пиццы.» - это гпт написал. <br> Ps: «Ну вообще, точки не должно быть после "пиццы", а после ковычек - запятая», - это писала Эмми"</p>
                <p style="color:var(--muted)">Эмми: «Если коротко: это выглядит ужасно, зато с какой душой!» <br> Толя: «Это про меня?» <br> Толя: «Ну, а если реально, "коротко" - это не про нас)»</p>
            </div>
        </div>
    </section>

    <!-- СЕКЦИЯ 3. Основное содержание: место, время, дресс-код -->
    <section class="wrap" id="details">
        <div class="details-grid">
            <!-- Дата/время + таймер -->
            <div class="detail reveal" aria-labelledby="dt-title">
                <div class="kicker" id="dt-title">Дата и время</div>
                <!-- TODO: замените дату и тайминг под себя -->
                <div class="big"><strong><span id="eventDateText">27 июля 2027</span></strong></div>

                <!-- Таймер обратного отсчёта -->
                <div class="countdown" id="countdown" aria-live="polite" title="Сколько осталось до события" hidden>
                    <div class="cd-item days">
                        <span class="num" id="cd-days">00</span>
                        <span class="lbl" id="cd-days-lbl" title="дней">дн</span>
                    </div>
                    <div class="cd-item">
                        <span class="num" id="cd-hours">00</span>
                        <span class="lbl" id="cd-hours-lbl" title="часов">ч</span>
                    </div>
                    <div class="cd-item">
                        <span class="num" id="cd-mins">00</span>
                        <span class="lbl" id="cd-mins-lbl" title="минут">мин</span>
                    </div>
                    <div class="cd-item">
                        <span class="num" id="cd-secs">00</span>
                        <span class="lbl" id="cd-secs-lbl" title="секунд">с</span>
                    </div>
                </div>
                <div id="countdownNote" class="lead" style="margin-top:8px;color:var(--muted)"></div>

                <div class="timeline" style="margin-top:14px">
                    <div class="slot"><div class="time">14:00</div><div>Сбор гостей</div></div>
                    <div class="slot"><div class="time">14:30</div><div>Подарки</div></div>
                    <div class="slot"><div class="time">14:59</div><div>Банкет</div></div>
                    <div class="slot"><div class="time">15:00</div><div>Уход гостей</div></div>
                    <div class="slot"><div class="time">16:00</div><div>Церемония</div></div>
                    <div class="slot"><div class="time">17:30</div><div>Фотосессия и велкам-чан</div></div>
                    <div class="slot"><div class="time">19:00</div><div>Ужин и танцы</div></div>
                    <div class="slot"><div class="time">20:00</div><div>Любимые дела (Смотреть "О нас")</div></div>
                </div>
            </div>

            <!-- Локация + кнопка Открыть маршрут -->
            <div class="detail reveal" aria-labelledby="loc-title">
                <div class="kicker" id="loc-title">Локация</div>
                <!-- TODO: укажите адрес площадки и при желании — ориентиры -->
                <div class="big"><strong>Хвоя</strong></div>
                <p id="venueAddress">
                    Рамонский р-н, Айдаровское сельское поселение, с. Чертовицы, Солнечная ул., 14А
                </p>
                <p style="color:var(--muted)">Парковка около забора, гардероб внутри. Навигатор подскажет дорогу — главное, приезжайте с деньгами, потом скинем чек, разделите.</p>

                <div class="actions" style="justify-content:flex-start">
                    <a class="btn btn-outline" id="openRouteBtn"
                       data-address="Рамонский р-н, Айдаровское сельское поселение, с. Чертовицы, Солнечная ул., 14А">
                        <svg aria-hidden="true" viewBox="0 0 24 24" fill="none">
                            <path d="M12 2v3m0 14v3M3 12h3m12 0h3M5.5 5.5l2.1 2.1M16.4 16.4l2.1 2.1M5.5 18.5l2.1-2.1M16.4 7.6l2.1-2.1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                        </svg>
                        Открыть маршрут
                    </a>
                </div>
            </div>

            <!-- Дресс-код -->
            <div class="detail reveal dresscode" aria-labelledby="dc-title">
                <div class="kicker" id="dc-title">Дресс-код</div>
                <div class="big">Смарт-кэжуал в мягких оттенках</div>

                <div class="palette" aria-label="Палитра дресс-кода">
                    <div><div class="swatch" style="--c:#EED8C9"></div><div class="swatch-label">песок</div></div>
                    <div><div class="swatch" style="--c:#CBB1A0"></div><div class="swatch-label">латте</div></div>
                    <div><div class="swatch" style="--c:#8FA7C9"></div><div class="swatch-label">дымчатый синий</div></div>
                    <div><div class="swatch" style="--c:#6C7A89"></div><div class="swatch-label">графит</div></div>
                    <div><div class="swatch" style="--c:#F5F4EF; box-shadow: inset 0 0 0 1px #E8E6E0"></div><div class="swatch-label">айвори</div></div>
                </div>

                <p style="color:var(--muted);margin-top:12px">
                    Пожалуйста, избегайте ярко-кислотных цветов и чисто белого total-look.
                </p>
            </div>
        </div>
    </section>

    <!-- СЕКЦИЯ 4. Небольшое завершение -->
    <section class="wrap">
        <div class="card reveal">
            <h3>Важно</h3>
            <p>Будем рады, если вы без детей, но препятствовать им не будем: пусть это будет маленький взрослый праздник. Если у вас есть вопросы по меню или транспорту — просто не пишите нам. А ещё, никакой древней музыки не будет, будем изучать современный свэг и Егора Крида. Свэг, если что, это стиль!</p>
            <p class="lead" style="margin-top:10px">Надеемся, вы не придёте!<br>С любовью, Эмми и Толя</p>

            <!-- Кнопка: Написать в Telegram -->
            <div class="actions" style="margin-top:14px;justify-content:flex-start">
                <a class="btn btn-primary" id="telegramBtn" href="https://t.me/flaylip" target="_blank" rel="noopener">
                    <svg aria-hidden="true" viewBox="0 0 24 24" fill="none">
                        <path d="M21.8 3.4 2.9 10.3c-.7.3-.7 1.3 0 1.5l4.8 1.5 1.9 5.9c.2.6 1 .7 1.4.2l2.7-3.1 4.8 3.6c.5.4 1.2.1 1.3-.6l2.3-14.4c.1-.7-.5-1.2-1.3-.9Z" stroke="currentColor" stroke-width="1.2" stroke-linejoin="round" />
                    </svg>
                    Написать в Telegram (Эмми)
                </a>
            </div>

            <!-- Кнопка: Написать в Telegram -->
            <div class="actions" style="margin-top:14px;justify-content:flex-start">
                <a class="btn btn-primary" id="telegramBtn" href="https://t.me/chtoliaa" target="_blank" rel="noopener">
                    <svg aria-hidden="true" viewBox="0 0 24 24" fill="none">
                        <path d="M21.8 3.4 2.9 10.3c-.7.3-.7 1.3 0 1.5l4.8 1.5 1.9 5.9c.2.6 1 .7 1.4.2l2.7-3.1 4.8 3.6c.5.4 1.2.1 1.3-.6l2.3-14.4c.1-.7-.5-1.2-1.3-.9Z" stroke="currentColor" stroke-width="1.2" stroke-linejoin="round" />
                    </svg>
                    Написать в Telegram (Толя)
                </a>
            </div>
        </div>
    </section>

    <footer>
        <div class="wrap">© Эмми & Толя · 2025</div>
    </footer>

    

<script>
(function () {
  const section = document.querySelector('.crossfade');
  if (!section) return;

  const sticky = section.querySelector('.sticky');
  const child  = sticky?.querySelector('.photo.child');
  const adult  = sticky?.querySelector('.photo.adult');
  if (!sticky || !child || !adult) return;

  const clamp = (v,a=0,b=1)=>Math.min(b, Math.max(a,v));
  const smooth = t=>t*t*(3-2*t);

  let top = 0, total = 0;
  function measure(){
    // Используем абсолютные координаты страницы, чтобы избежать «прыжков» из-за адресной строки iOS
    top = section.getBoundingClientRect().top + window.scrollY;
    const vh = sticky.clientHeight || window.innerHeight;
    total = Math.max(1, section.offsetHeight - vh);
  }

  function render(){
    const y = window.scrollY;
    const progressed = clamp(y - top, 0, total);
    const t = progressed / total;
    const start = 0.20, end = 0.80;
    const p = smooth(clamp((t - start) / (end - start)));

    adult.style.opacity = p.toFixed(3);
    child.style.transform = 'scale(' + (1 + 0.04 * p).toFixed(4) + ')';
    adult.style.transform = 'scale(' + (1.02 - 0.02 * p).toFixed(4) + ')';
  }

  let ticking = false;
  function onScroll(){
    if (!ticking){
      ticking = true;
      requestAnimationFrame(()=>{ render(); ticking=false; });
    }
  }

  window.addEventListener('scroll', onScroll, {passive:true});
  window.addEventListener('resize', () => { measure(); render(); }, {passive:true});

  measure();
  render();
})();
</script>

</body>
</html>
